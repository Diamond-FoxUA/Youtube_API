{"version":3,"file":"index.js","sources":["../src/js/ux-ui.js","../src/js/YouTube-API.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nexport function changeLayout(containerEl) {\n  containerEl.forEach(el => {\n    el.style.marginTop = \"15px\";\n  });\n}\n\nexport function changeBtnCondition(btn) {\n  if (btn.disabled) {\n    btn.disabled = false;\n  } else {\n    btn.disabled = true;\n  }\n}\n\nexport function showError(message) {\n  iziToast.error({\n    message,\n    position: 'topRight',\n  })\n}\n\nexport function showInfo(message) {\n  iziToast.info({\n    message,\n    position: 'topRight'\n  })\n}\n\nexport function showWarning(message) {\n  iziToast.warning({\n    message,\n    position: 'topRight'\n  })\n}","import axios from 'axios';\nimport { showError } from './ux-ui';\n\nconst API_KEY = \"AIzaSyCDg8YNpb_-7aAum3KjZ3dvcD0ZALEWH48\";\nconst API_ADDRESS = \"https://www.googleapis.com/youtube/v3/search\";\n\nexport default async function getVideosByQuerry(query, page = 1) {\n  try {\n    const response = await axios.get(API_ADDRESS, {\n      params: {\n        q: query,\n        page: page,\n        key: API_KEY,\n        maxResults: 12,\n        perPage: 12,\n        type: 'video',\n        part: 'snippet'\n      }\n    });\n    return response.data;\n  } catch (error) {\n    console.log(error);\n    showError('Opps... Something went wrong. Try again later.');\n  }\n};","export function createVideoList(videoListEl, videos) {\n  const markup = videos.map(({ \n    id: { videoId }, \n    snippet: { title, channelTitle, thumbnails: { medium: { url: thumbnail } } } }\n  ) => `\n    <li class=\"video-card\">\n      <a href=\"https://www.youtube.com/watch?v=${videoId}\" target=\"_blank\">\n        <img class=\"video-img\" src=\"${thumbnail}\" alt=\"${title}\">\n      </a>\n        <h3 class=\"video-text\">${truncateText(title, 30)}</h3>\n        <p class=\"video-text\">${channelTitle}</p>\n    </li>\n  `).join('');\n\n  videoListEl.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction truncateText(text, maxLength = 100){\n  return text.length > maxLength ? text.slice(0, maxLength) + \"...\" : text;\n}\n\nexport function clearVideoList(listEl) {\n  listEl.innerHTML = \"\";\n}","import getVideosByQuerry from './js/YouTube-API';\nimport { createVideoList, clearVideoList } from './js/render-functions.js';\nimport { changeLayout, changeBtnCondition, showError } from './js/ux-ui';\n\nconst formEl = document.querySelector('.form');\nconst inputEl = document.querySelector('.search-input');\nconst searchBtnEl = document.querySelector('.search-btn');\nconst videoListEl = document.querySelector('.video-list');\n\nconst containerEl = document.querySelectorAll('.container');\n\nlet currentQuery = '';\nlet page = 1;\nlet totalHits = 0;\n\nformEl.addEventListener('submit', handleClick);\n\nasync function handleClick(event) {\n  event.preventDefault();\n  changeBtnCondition(searchBtnEl);\n\n  currentQuery = inputEl.value.trim();\n\n  if (!currentQuery) {\n    showError('Please fill out the search field.');\n    return;\n  }\n\n  page = 1;\n  clearVideoList(videoListEl);\n\n  try {\n    changeLayout(containerEl);\n    const videos = await getVideosByQuerry(currentQuery, page);\n    console.log(videos);\n\n    createVideoList(videoListEl, videos.items);\n  } catch (error) {\n    alert('Opps... Something went wrong. Try again later.');\n    console.log(error);\n  } finally {\n    changeBtnCondition(searchBtnEl);\n  }\n\n}\n\n\n\n"],"names":["changeLayout","containerEl","el","changeBtnCondition","btn","showError","message","iziToast","API_KEY","API_ADDRESS","getVideosByQuerry","query","page","axios","error","createVideoList","videoListEl","videos","markup","videoId","title","channelTitle","thumbnail","truncateText","text","maxLength","clearVideoList","listEl","formEl","inputEl","searchBtnEl","currentQuery","handleClick","event"],"mappings":"6vBAGO,SAASA,EAAaC,EAAa,CACxCA,EAAY,QAAQC,GAAM,CACxBA,EAAG,MAAM,UAAY,MACzB,CAAG,CACH,CAEO,SAASC,EAAmBC,EAAK,CAClCA,EAAI,SACNA,EAAI,SAAW,GAEfA,EAAI,SAAW,EAEnB,CAEO,SAASC,EAAUC,EAAS,CACjCC,EAAS,MAAM,CACb,QAAAD,EACA,SAAU,UACd,CAAG,CACH,CCnBA,MAAME,EAAU,0CACVC,EAAc,+CAEL,eAAeC,EAAkBC,EAAOC,EAAO,EAAG,CAC/D,GAAI,CAYF,OAXiB,MAAMC,EAAM,IAAIJ,EAAa,CAC5C,OAAQ,CACN,EAAGE,EACH,KAAMC,EACN,IAAKJ,EACL,WAAY,GACZ,QAAS,GACT,KAAM,QACN,KAAM,SACP,CACP,CAAK,GACe,IACjB,OAAQM,EAAO,CACd,QAAQ,IAAIA,CAAK,EACjBT,EAAU,gDAAgD,CAC3D,CACH,CCxBO,SAASU,EAAgBC,EAAaC,EAAQ,CACnD,MAAMC,EAASD,EAAO,IAAI,CAAC,CACzB,GAAI,CAAE,QAAAE,CAAS,EACf,QAAS,CAAE,MAAAC,EAAO,aAAAC,EAAc,WAAY,CAAE,OAAQ,CAAE,IAAKC,CAAW,CAAA,EAAM,IAC3E;AAAA;AAAA,iDAE0CH,CAAO;AAAA,sCAClBG,CAAS,UAAUF,CAAK;AAAA;AAAA,iCAE7BG,EAAaH,EAAO,EAAE,CAAC;AAAA,gCACxBC,CAAY;AAAA;AAAA,GAEzC,EAAE,KAAK,EAAE,EAEVL,EAAY,mBAAmB,YAAaE,CAAM,CACpD,CAEA,SAASK,EAAaC,EAAMC,EAAY,IAAI,CAC1C,OAAOD,EAAK,OAASC,EAAYD,EAAK,MAAM,EAAGC,CAAS,EAAI,MAAQD,CACtE,CAEO,SAASE,EAAeC,EAAQ,CACrCA,EAAO,UAAY,EACrB,CCnBA,MAAMC,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAU,SAAS,cAAc,eAAe,EAChDC,EAAc,SAAS,cAAc,aAAa,EAClDd,EAAc,SAAS,cAAc,aAAa,EAElDf,EAAc,SAAS,iBAAiB,YAAY,EAE1D,IAAI8B,EAAe,GACfnB,EAAO,EAGXgB,EAAO,iBAAiB,SAAUI,CAAW,EAE7C,eAAeA,EAAYC,EAAO,CAMhC,GALAA,EAAM,eAAc,EACpB9B,EAAmB2B,CAAW,EAE9BC,EAAeF,EAAQ,MAAM,OAEzB,CAACE,EAAc,CACjB1B,EAAU,mCAAmC,EAC7C,MACD,CAEDO,EAAO,EACPc,EAAeV,CAAW,EAE1B,GAAI,CACFhB,EAAaC,CAAW,EACxB,MAAMgB,EAAS,MAAMP,EAAkBqB,EAAcnB,CAAI,EACzD,QAAQ,IAAIK,CAAM,EAElBF,EAAgBC,EAAaC,EAAO,KAAK,CAC1C,OAAQH,EAAO,CACd,MAAM,gDAAgD,EACtD,QAAQ,IAAIA,CAAK,CACrB,QAAY,CACRX,EAAmB2B,CAAW,CAC/B,CAEH"}